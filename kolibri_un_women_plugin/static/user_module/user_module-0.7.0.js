!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/static/user_module/",e(e.s=17)}([function(t,e){t.exports=function(t,e,n,i,r){var s,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(s=t,o=t.default);var u="function"==typeof o?o.options:o;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),i&&(u._scopeId=i);var c;if(r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=c):n&&(c=n),c){var l=u.functional,d=l?u.render:u.beforeCreate;l?u.render=function(t,e){return c.call(e),d(t,e)}:u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:o,options:u}}},function(t,e){t.exports=kolibriGlobal.coreVue.vuex.actions},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={ROOT:"ROOT",SIGN_IN:"SIGN_IN",SIGN_UP:"SIGN_UP",PROFILE:"PROFILE"}},function(t,e){t.exports=kolibriGlobal.coreVue.vuex.constants},function(t,e){t.exports=kolibriGlobal.coreVue.vuex.getters},function(t,e){t.exports=kolibriGlobal.coreVue.components.kButton},function(t,e){t.exports=kolibriGlobal.coreVue.components.kTextbox},function(t,e){t.exports=kolibriGlobal.coreVue.components.uiAlert},function(t,e,n){"use strict";function i(){window.location="/"}function r(t){if(Object(m.isUserLoggedIn)(t.state))return void v.a.getInstance().replace({name:p.a.PROFILE});v.a.getInstance().replace({name:p.a.SIGN_IN})}function s(t,e,n){var i=function(){return b.FacilityUserResource.getModel(n.user_id)}(),r={};e.full_name&&e.full_name!==n.full_name&&(r.full_name=e.full_name),e.username&&e.username!==n.username&&(r.username=e.username),Object.keys(r).length&&(t.dispatch("SET_PROFILE_BUSY",!0),i.save(r).then(function(){h.getCurrentSession(t,!0),t.dispatch("SET_PROFILE_SUCCESS",!0),t.dispatch("SET_PROFILE_BUSY",!1),t.dispatch("SET_PROFILE_ERROR",!1,"")},function(e){t.dispatch("SET_PROFILE_SUCCESS",!1),t.dispatch("SET_PROFILE_ERROR",!0,function(t){return 400===t.status.code?Object.values(t.entity)[0][0]:403===t.status.code?t.entity[0]:""}(e)),t.dispatch("SET_PROFILE_BUSY",!1)}))}function o(t){var e={busy:!1,success:!1,error:!1,errorMessage:""};t.dispatch("SET_PAGE_STATE",e)}function a(t){if(!Object(m.isUserLoggedIn)(t.state))return void v.a.getInstance().replace({name:p.a.SIGN_IN});t.dispatch("SET_PAGE_NAME",p.a.PROFILE),t.dispatch("CORE_SET_PAGE_LOADING",!1),t.dispatch("CORE_SET_ERROR",null),t.dispatch("CORE_SET_TITLE",w.$tr("userProfilePageTitle")),o(t)}function u(t){if(Object(m.isUserLoggedIn)(t.state))return void v.a.getInstance().replace({name:p.a.PROFILE});I.a.get(f.SignedOutDueToInactivitySnackbar)&&(t.dispatch("CORE_SET_CURRENT_SNACKBAR",f.SignedOutDueToInactivitySnackbar),I.a.set(f.SignedOutDueToInactivitySnackbar,null)),t.dispatch("SET_PAGE_NAME",p.a.SIGN_IN),t.dispatch("SET_PAGE_STATE",{}),t.dispatch("CORE_SET_PAGE_LOADING",!1),t.dispatch("CORE_SET_ERROR",null),t.dispatch("CORE_SET_TITLE",w.$tr("userSignInPageTitle"))}function c(t){var e={busy:!1,errorCode:null,errorMessage:""};t.dispatch("SET_PAGE_STATE",e)}function l(t){return Object(m.isUserLoggedIn)(t.state)?(v.a.getInstance().replace({name:p.a.PROFILE}),Promise.resolve()):b.FacilityResource.getCollection().fetch().then(function(e){t.dispatch("CORE_SET_FACILITIES",e),t.dispatch("SET_PAGE_NAME",p.a.SIGN_UP),t.dispatch("CORE_SET_PAGE_LOADING",!1),t.dispatch("CORE_SET_ERROR",null),t.dispatch("CORE_SET_TITLE",w.$tr("userSignUpPageTitle")),c(t)}).catch(function(e){return h.handleApiError(t,e)})}function d(t,e){var n=b.SignUpResource.createModel(e),r=n.save(e);c(t),t.dispatch("SET_SIGN_UP_BUSY",!0),r.then(function(){t.dispatch("SET_SIGN_UP_ERROR",null,""),i()}).catch(function(e){t.dispatch("SET_SIGN_UP_ERROR",e.status.code,function(t){return 400===t.status.code||200===t.status.code?t.entity[0]:""}(e)),t.dispatch("SET_SIGN_UP_BUSY",!1)})}n.d(e,"e",function(){return r}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return d}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o});var p=n(2),f=n(3),h=(n.n(f),n(1)),m=(n.n(h),n(4)),g=(n.n(m),n(9)),v=n.n(g),b=n(11),_=(n.n(b),n(45)),y=(n.n(_),n(46)),I=n.n(y),S={userProfilePageTitle:"User Profile",userSignInPageTitle:"User Sign In",userSignUpPageTitle:"User Sign Up"},w=Object(_.createTranslator)("userPageTitles",S)},function(t,e){t.exports=kolibriGlobal.coreVue.router},function(t,e){t.exports=kolibriGlobal.coreVue.vuex.store},function(t,e){t.exports=kolibriGlobal.resources},function(t,e){t.exports=kolibriGlobal.coreVue.components.logo},function(t,e,n){"use strict";function i(t){n(36)}var r=n(37),s=n(39),o=n(0),a=i,u=o(r.a,s.a,a,"data-v-76ec09b4",null);e.a=u.exports},function(t,e){t.exports=kolibriGlobal.utils.validators},function(t,e,n){"use strict";function i(t){n(53)}var r=n(54),s=n(55),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e,n){"use strict";function i(t){return"string"==typeof t?t.replace(d,"").split(p):t}function r(t){return c(t)?(t.getAttribute("class")||"").replace(d,"").split(p):[]}function s(t,e){c(t)&&t.setAttribute("class",i(e).join(" "))}function o(t,e){var n=a(t,e),r=i(e);return n.push.apply(n,r),s(t,n),n}function a(t,e){var n=r(t);return i(e).forEach(function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}),s(t,n),n}function u(t,e){var n=r(t);return i(e).every(function(t){return-1!==n.indexOf(t)})}function c(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:l(t)}function l(t){return t&&"object"==typeof t&&"string"==typeof t.nodeName&&1===t.nodeType}var d=/^\s+|\s+$/g,p=/\s+/g;e.a={add:o,remove:a,contains:u,has:u,set:s,get:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return f});var i=n(18),r=n(23),s=n(8),o=n(94),a=n(2),u=n(10),c=n.n(u),l=n(1),d=(n.n(l),[{name:a.a.ROOT,path:"/",handler:function(){s.e(c.a)}},{name:a.a.SIGN_IN,path:"/signin",handler:function(){s.f(c.a)}},{name:a.a.SIGN_UP,path:"/create_account",handler:function(){s.g(c.a)}},{name:a.a.PROFILE,path:"/profile",handler:function(){s.d(c.a)}},{path:"*",redirect:"/"}]),p=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={stateSetters:{},routes:{},RootVue:{},initialState:{},mutations:{}};return n.stateSetters.get=function(){return[l.getFacilityConfig]},n.routes.get=function(){return d},n.RootVue.get=function(){return r.a},n.initialState.get=function(){return o.a},n.mutations.get=function(){return o.b},Object.defineProperties(e.prototype,n),e}(i.a),f=new p},function(t,e,n){"use strict";var i=n(19),r=n(1),s=(n.n(r),n(9)),o=n.n(s),a=n(21),u=n.n(a),c=n(10),l=n.n(c),d=n(22),p=n.n(d),f=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={routes:{},mutations:{},initialState:{},RootVue:{},store:{},stateSetters:{}};return n.routes.get=function(){return[]},n.mutations.get=function(){return{}},n.initialState.get=function(){return{}},n.RootVue.get=function(){return{}},n.store.get=function(){return l.a},n.stateSetters.get=function(){return[]},e.prototype.ready=function(){var t=this;this.store.registerModule({state:this.initialState,mutations:this.mutations}),Object(r.getCurrentSession)(l.a).then(function(){Promise.all([].concat(t.stateSetters.map(function(e){return e(t.store)}))).then(function(){p.a.start(),t.rootvue=new u.a(Object.assign({el:"rootvue",store:l.a,router:o.a.init(t.routes)},t.RootVue))})})},Object.defineProperties(e.prototype,n),e}(i.a);e.a=f},function(t,e,n){"use strict";var i=n(20),r=n.n(i),s=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];this.name="user_module",this.events={},this.once={};var i={};this.kolibriModuleOptions.forEach(function(e){t[e]&&(i[e]=t[e])}),Object.assign(this,i),(r=this).initialize.apply(r,[t].concat(e)),this._registerKolibriModule();var r},o={kolibriModuleOptions:{},Kolibri:{}};o.kolibriModuleOptions.get=function(){return[]},s.prototype._registerKolibriModule=function(){r.a.registerKolibriModuleSync(this)},s.prototype.initialize=function(){},s.prototype.ready=function(){},s.prototype.stopListening=function(t,e){r.a.stopListening(t,this,e)},s.prototype.emit=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];r.a.emit.apply(r.a,t)},o.Kolibri.get=function(){return r.a},Object.defineProperties(s.prototype,o),e.a=s},function(t,e){t.exports=kolibriGlobal},function(t,e){t.exports=kolibriGlobal.lib.vue},function(t,e){t.exports=kolibriGlobal.heartbeat},function(t,e,n){"use strict";function i(t){n(24)}var r=n(25),s=n(93),o=n(0),a=i,u=o(r.a,s.a,a,"data-v-7a3ee5fa",null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(2),r=n(3),s=(n.n(r),n(26)),o=n.n(s),a=n(27),u=n(42),c=n(86);e.a={$trs:{userProfileTitle:"Profile"},name:"userPlugin",components:{coreBase:o.a,signInPage:a.a,signUpPage:u.a,profilePage:c.a},computed:{appBarTitle:function(){return this.pageName===i.a.PROFILE?this.$tr("userProfileTitle"):""},topLevelPageName:function(){return r.TopLevelPageNames.USER},currentPage:function(){return this.pageName===i.a.SIGN_IN?"sign-in-page":this.pageName===i.a.SIGN_UP?"sign-up-page":this.pageName===i.a.PROFILE?"profile-page":null},navBarNeeded:function(){return this.pageName!==i.a.SIGN_IN&&this.pageName!==i.a.SIGN_UP}},vuex:{getters:{pageName:function(t){return t.pageName}}}}},function(t,e){t.exports=kolibriGlobal.coreVue.components.coreBase},function(t,e,n){"use strict";function i(t){n(28)}var r=n(29),s=n(41),o=n(0),a=i,u=o(r.a,s.a,a,"data-v-2598daee",null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(1),r=(n.n(i),n(2)),s=n(4),o=(n.n(s),n(11)),a=(n.n(o),n(3)),u=(n.n(a),n(5)),c=n.n(u),l=n(30),d=n.n(l),p=n(31),f=n.n(p),h=n(6),m=n.n(h),g=n(12),v=n.n(g),b=n(32),_=n(7),y=n.n(_),I=n(13),S=n(40),w=n.n(S);e.a={name:"signInPage",$trs:{kolibri:"Kolibri",signIn:"Sign in",username:"Username",password:"Password",enterPassword:"Enter password",noAccount:"Don't have an account?",createAccount:"Create account",accessAsGuest:"Access as guest",signInError:"Incorrect username or password",poweredBy:"Kolibri {version}",required:"This field is required",requiredForCoachesAdmins:"Password is required for coaches and admins",signedOut:"You were automatically signed out due to inactivity",dismiss:"Dismiss"},components:{kButton:c.a,kRouterLink:d.a,kExternalLink:f.a,kTextbox:m.a,logo:v.a,uiAutocompleteSuggestion:b.a,uiAlert:y.a,languageSwitcherFooter:I.a,coreSnackbar:w.a},data:function(){return{username:"",password:"",usernameSuggestions:[],suggestionTerm:"",showDropdown:!0,highlightedIndex:-1,usernameBlurred:!1,passwordBlurred:!1,formSubmitted:!1}},computed:{simpleSignIn:function(){return this.facilityConfig.learnerCanLoginWithNoPassword},suggestions:function(){var t=this;return this.usernameSuggestions.filter(function(e){return e.toLowerCase().startsWith(t.username.toLowerCase())})},uniqueMatch:function(){return 1===this.suggestions.length&&this.suggestions[0].toLowerCase()===this.username.toLowerCase()},usernameIsInvalidText:function(){return(this.usernameBlurred||this.formSubmitted)&&""===this.username?this.$tr("required"):""},usernameIsInvalid:function(){return!!this.usernameIsInvalidText},passwordIsInvalidText:function(){if(this.passwordBlurred||this.formSubmitted){if(this.simpleSignIn&&""===this.password)return this.$tr("requiredForCoachesAdmins");if(""===this.password)return this.$tr("required")}return""},passwordIsInvalid:function(){return!!this.passwordIsInvalidText},formIsValid:function(){return this.simpleSignIn?!this.usernameIsInvalid:!this.usernameIsInvalid&&!this.passwordIsInvalid},canSignUp:function(){return this.facilityConfig.learnerCanSignUp},signUpPage:function(){return{name:r.a.SIGN_UP}},versionMsg:function(){return this.$tr("poweredBy",{version:"0.7.0"})},showSignedOutDueToInactivitySnackbar:function(){return this.currentSnackbar===a.SignedOutDueToInactivitySnackbar}},watch:{username:"setSuggestionTerm"},methods:{setSuggestionTerm:function(t){null!==t&&void 0!==t&&(t.length<3?(this.suggestionTerm="",this.usernameSuggestions=[]):(!t.startsWith(this.suggestionTerm)&&this.suggestionTerm.length||!this.suggestionTerm.length)&&(this.suggestionTerm=t,this.setSuggestions()))},setSuggestions:function(){var t=this;o.FacilityUsernameResource.getCollection({facility:this.facility,search:this.suggestionTerm}).fetch().then(function(e){t.usernameSuggestions=e.map(function(t){return t.username}),t.showDropdown=!0}).catch(function(){t.usernameSuggestions=[]})},handleKeyboardNav:function(t){switch(t.code){case"ArrowDown":this.showDropdown&&this.suggestions.length&&(this.highlightedIndex=Math.min(this.highlightedIndex+1,this.suggestions.length-1));break;case"ArrowUp":this.showDropdown&&this.suggestions.length&&(this.highlightedIndex=Math.max(this.highlightedIndex-1,-1));break;case"Escape":this.showDropdown=!1;break;case"Enter":this.highlightedIndex<0?this.showDropdown=!1:(this.fillUsername(this.suggestions[this.highlightedIndex]),t.preventDefault());break;default:this.showDropdown=!0}},fillUsername:function(t){null!==t&&void 0!==t&&(this.username=t,this.showDropdown=!1,this.highlightedIndex=-1,this.$refs.username.$el.querySelector("input").focus())},handleUsernameBlur:function(){this.usernameBlurred=!0,this.showDropdown=!1},signIn:function(){this.formSubmitted=!0,this.formIsValid?this.kolibriLogin({username:this.username,password:this.password,facility:this.facility}):this.focusOnInvalidField()},focusOnInvalidField:function(){this.usernameIsInvalid?this.$refs.username.focus():this.passwordIsInvalid&&this.$refs.password.focus()}},vuex:{getters:{facility:s.currentFacilityId,facilityConfig:s.facilityConfig,passwordMissing:function(t){return t.core.loginError===a.LoginErrors.PASSWORD_MISSING},invalidCredentials:function(t){return t.core.loginError===a.LoginErrors.INVALID_CREDENTIALS},busy:function(t){return t.core.signInBusy},currentSnackbar:s.currentSnackbar},actions:{kolibriLogin:i.kolibriLogin,clearSnackbar:i.clearSnackbar}}}},function(t,e){t.exports=kolibriGlobal.coreVue.components.kRouterLink},function(t,e){t.exports=kolibriGlobal.coreVue.components.kExternalLink},function(t,e,n){"use strict";function i(t){n(33)}var r=n(34),s=n(35),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";e.a={name:"ui-autocomplete-suggestion",props:{suggestion:{type:[String,Object],required:!0},type:{type:String,default:"simple"},highlighted:{type:Boolean,default:!1},keys:{type:Object,default:function(){return{label:"label",image:"image"}}}},computed:{classes:function(){return["ui-autocomplete-suggestion--type-"+this.type,{"is-highlighted":this.highlighted}]},imageStyle:function(){return{"background-image":"url("+this.suggestion[this.keys.image]+")"}}}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"ui-autocomplete-suggestion",class:t.classes},[t._t("default",["simple"===t.type?n("div",{staticClass:"ui-autocomplete-suggestion__simple"},[t._v("\n            "+t._s(t.suggestion[t.keys.label]||t.suggestion)+"\n        ")]):t._e(),"image"===t.type?n("div",{staticClass:"ui-autocomplete-suggestion__image"},[n("div",{staticClass:"ui-autocomplete-suggestion__image-object",style:t.imageStyle}),n("div",{staticClass:"ui-autocomplete-suggestion__image-text"},[t._v(t._s(t.suggestion[t.keys.label]))])]):t._e()])],2)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e){},function(t,e,n){"use strict";var i=n(38),r=n.n(i);e.a={name:"languageSwitcherFooter",components:{languageSwitcherList:r.a}}},function(t,e){t.exports=kolibriGlobal.coreVue.components.languageSwitcherList},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer-wrapper"},[n("language-switcher-list",{staticClass:"list"})],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e){t.exports=kolibriGlobal.coreVue.components.coreSnackbar},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fh"},[n("div",{staticClass:"wrapper-table"},[n("div",{staticClass:"main-row"},[n("div",{attrs:{id:"main-cell"}},[n("logo",{staticClass:"logo"}),n("h1",{staticClass:"login-text title"},[t._v(t._s(t.$tr("kolibri")))]),n("form",{ref:"form",staticClass:"login-form",on:{submit:function(e){e.preventDefault(),t.signIn(e)}}},[t.invalidCredentials?n("ui-alert",{staticClass:"alert",attrs:{type:"error",dismissible:!1}},[t._v("\n          "+t._s(t.$tr("signInError"))+"\n        ")]):t._e(),n("transition",{attrs:{name:"textbox"}},[n("k-textbox",{ref:"username",attrs:{id:"username",autocomplete:"username",autofocus:!0,label:t.$tr("username"),invalid:t.usernameIsInvalid,invalidText:t.usernameIsInvalidText},on:{blur:t.handleUsernameBlur,input:function(e){t.showDropdown=!0},keydown:t.handleKeyboardNav},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("transition",{attrs:{name:"list"}},[t.simpleSignIn&&t.suggestions.length?n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"suggestions"},t._l(t.suggestions,function(e,i){return n("ui-autocomplete-suggestion",{key:i,class:{highlighted:t.highlightedIndex===i},attrs:{suggestion:e},nativeOn:{click:function(n){t.fillUsername(e)}}})})):t._e()]),n("transition",{attrs:{name:"textbox"}},[!t.simpleSignIn||t.simpleSignIn&&(t.passwordMissing||t.invalidCredentials)?n("k-textbox",{ref:"password",attrs:{id:"password",type:"password",autocomplete:"current-password",label:t.$tr("password"),autofocus:t.simpleSignIn,invalid:t.passwordIsInvalid,invalidText:t.passwordIsInvalidText},on:{blur:function(e){t.passwordBlurred=!0}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}):t._e()],1),n("k-button",{staticClass:"login-btn",attrs:{type:"submit",text:t.$tr("signIn"),primary:!0,disabled:t.busy}})],1),n("div",{staticClass:"divider"}),n("p",{staticClass:"login-text no-account"},[t._v(t._s(t.$tr("noAccount")))]),n("div",[t.canSignUp?n("k-router-link",{attrs:{text:t.$tr("createAccount"),to:t.signUpPage,primary:!1,appearance:"raised-button"}}):t._e()],1),n("div",[n("k-external-link",{attrs:{text:t.$tr("accessAsGuest"),href:"/learn",primary:!1,appearance:"flat-button"}})],1),n("p",{staticClass:"login-text version"},[t._v(t._s(t.versionMsg))])],1)]),n("div",{staticClass:"footer-row"},[n("language-switcher-footer",{staticClass:"footer-cell"})],1)]),t.showSignedOutDueToInactivitySnackbar?n("core-snackbar",{attrs:{text:t.$tr("signedOut"),actionText:t.$tr("dismiss")},on:{actionClicked:t.clearSnackbar}}):t._e()],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(43)}var r=n(44),s=n(85),o=n(0),a=i,u=o(r.a,s.a,a,"data-v-784db653",null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(8),r=n(2),s=n(14),o=(n.n(s),n(5)),a=n.n(o),u=n(7),c=n.n(u),l=n(6),d=n.n(l),p=n(47),f=n(12),h=n.n(f),m=n(15),g=n(84),v=n.n(g),b=n(13);e.a={name:"signUpPage",$trs:{createAccount:"Create an account",name:"Full name",username:"Username",password:"Password",reEnterPassword:"Re-enter password",passwordMatchError:"Passwords do not match",genericError:"Something went wrong during sign up!",usernameAlphaNumError:"Username can only contain letters, numbers, and underscores",usernameAlreadyExistsError:"An account with that username already exists",logIn:"Sign in",kolibri:"Kolibri",finish:"Finish",facility:"Facility",required:"This field is required"},components:{kButton:a.a,uiAlert:c.a,kTextbox:d.a,uiToolbar:p.a,logo:h.a,uiIcon:m.a,kSelect:v.a,languageSwitcherFooter:b.a},data:function(){return{name:"",username:"",password:"",confirmedPassword:"",selectedFacility:{},nameBlurred:!1,usernameBlurred:!1,passwordBlurred:!1,confirmedPasswordBlurred:!1,facilityBlurred:!1,formSubmitted:!1}},computed:{signInPage:function(){return{name:r.a.SIGN_IN}},facilityList:function(){return this.facilities.map(function(t){return{label:t.name,value:t.id}})},nameIsInvalidText:function(){return(this.nameBlurred||this.formSubmitted)&&""===this.name?this.$tr("required"):""},nameIsInvalid:function(){return!!this.nameIsInvalidText},usernameDoesNotExistYet:function(){return 400!==this.errorCode},usernameIsInvalidText:function(){if(this.usernameBlurred||this.formSubmitted){if(""===this.username)return this.$tr("required");if(!Object(s.validateUsername)(this.username))return this.$tr("usernameAlphaNumError");if(!this.usernameDoesNotExistYet)return this.$tr("usernameAlreadyExistsError")}return""},usernameIsInvalid:function(){return!!this.usernameIsInvalidText},passwordIsInvalidText:function(){return(this.passwordBlurred||this.formSubmitted)&&""===this.password?this.$tr("required"):""},passwordIsInvalid:function(){return!!this.passwordIsInvalidText},confirmedPasswordIsInvalidText:function(){if(this.confirmedPasswordBlurred||this.formSubmitted){if(""===this.confirmedPassword)return this.$tr("required");if(this.confirmedPassword!==this.password)return this.$tr("passwordMatchError")}return""},confirmedPasswordIsInvalid:function(){return!!this.confirmedPasswordIsInvalidText},noFacilitySelected:function(){return!this.selectedFacility.value},facilityIsInvalidText:function(){return(this.facilityBlurred||this.formSubmitted)&&this.noFacilitySelected?this.$tr("required"):""},facilityIsInvalid:function(){return!!this.facilityIsInvalidText},formIsValid:function(){return!(this.nameIsInvalid||this.usernameIsInvalid||this.passwordIsInvalid||this.confirmedPasswordIsInvalid||this.facilityIsInvalid)},unknownError:function(){return!!this.errorCode&&400!==this.errorCode},errorMessage:function(){return this.backendErrorMessage||this.$tr("genericError")}},beforeMount:function(){1===this.facilityList.length&&(this.selectedFacility=this.facilityList[0])},methods:{signUp:function(){this.formSubmitted=!0,this.formIsValid&&!this.busy?this.signUpAction({facility:this.selectedFacility.value,full_name:this.name,username:this.username,password:this.password}):this.focusOnInvalidField()},focusOnInvalidField:function(){this.nameIsInvalid?this.$refs.name.focus():this.usernameIsInvalid?this.$refs.username.focus():this.passwordIsInvalid?this.$refs.password.focus():this.confirmedPasswordIsInvalid&&this.$refs.confirmedPassword.focus()}},vuex:{getters:{session:function(t){return t.core.session},errorCode:function(t){return t.pageState.errorCode},busy:function(t){return t.pageState.busy},backendErrorMessage:function(t){return t.pageState.errorMessage},facilities:function(t){return t.core.facilities}},actions:{signUpAction:i.h,resetSignUpState:i.c}}}},function(t,e){t.exports=kolibriGlobal.utils.i18n},function(t,e,n){!function(n,i){void 0!==t&&t.exports&&(e=t.exports=i(n,e))}(this,function(t,e){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),e.prefix="",e._getPrefixedKey=function(t,e){return e=e||{},e.noPrefix?t:this.prefix+t},e.set=function(t,e,n){var i=this._getPrefixedKey(t,n);try{localStorage.setItem(i,JSON.stringify({data:e}))}catch(n){console&&console.warn("Lockr didn't successfully save the '{"+t+": "+e+"}' pair, because the localStorage is full.")}},e.get=function(t,e,n){var i,r=this._getPrefixedKey(t,n);try{i=JSON.parse(localStorage.getItem(r))}catch(e){try{i=localStorage[r]?JSON.parse('{"data":"'+localStorage.getItem(r)+'"}'):null}catch(e){console&&console.warn("Lockr could not load the item with key "+t)}}return null===i?e:void 0!==i.data?i.data:e},e.sadd=function(t,n,i){var r,s=this._getPrefixedKey(t,i),o=e.smembers(t);if(o.indexOf(n)>-1)return null;try{o.push(n),r=JSON.stringify({data:o}),localStorage.setItem(s,r)}catch(e){console.log(e),console&&console.warn("Lockr didn't successfully add the "+n+" to "+t+" set, because the localStorage is full.")}},e.smembers=function(t,e){var n,i=this._getPrefixedKey(t,e);try{n=JSON.parse(localStorage.getItem(i))}catch(t){n=null}return null===n?[]:n.data||[]},e.sismember=function(t,n,i){this._getPrefixedKey(t,i);return e.smembers(t).indexOf(n)>-1},e.getAll=function(){return Object.keys(localStorage).map(function(t){return e.get(t)})},e.srem=function(t,n,i){var r,s,o=this._getPrefixedKey(t,i),a=e.smembers(t,n);s=a.indexOf(n),s>-1&&a.splice(s,1),r=JSON.stringify({data:a});try{localStorage.setItem(o,r)}catch(e){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+t)}},e.rm=function(t){localStorage.removeItem(t)},e.flush=function(){localStorage.clear()},e})},function(t,e,n){"use strict";function i(t){n(48)}var r=n(49),s=n(83),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(50),r=n(79);e.a={name:"ui-toolbar",props:{type:{type:String,default:"default"},textColor:{type:String,default:"black"},title:String,brand:String,removeBrandDivider:{type:Boolean,default:!1},navIcon:{type:String,default:"menu"},removeNavIcon:{type:Boolean,default:!1},raised:{type:Boolean,default:!0},progressPosition:{type:String,default:"bottom"},loading:{type:Boolean,default:!1}},computed:{classes:function(){return["ui-toolbar--type-"+this.type,"ui-toolbar--text-color-"+this.textColor,"ui-toolbar--progress-position-"+this.progressPosition,{"is-raised":this.raised}]},progressColor:function(){return"black"===this.textColor?"primary":"white"},hasBrandDivider:function(){return!this.removeBrandDivider&&(this.brand||this.$slots.brand)}},methods:{navIconClick:function(){this.$emit("nav-icon-click")}},components:{UiIconButton:i.a,UiProgressLinear:r.a}}},function(t,e,n){"use strict";function i(t){n(51)}var r=n(52),s=n(78),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(15),r=n(56),s=n(61),o=n(65),a=n(69),u=n(75);e.a={name:"ui-icon-button",props:{type:{type:String,default:"primary"},buttonType:{type:String,default:"button"},color:{type:String,default:"default"},size:{type:String,default:"normal"},icon:String,ariaLabel:String,loading:{type:Boolean,default:!1},hasDropdown:{type:Boolean,default:!1},dropdownPosition:{type:String,default:"bottom left"},openDropdownOn:{type:String,default:"click"},tooltip:String,openTooltipOn:String,tooltipPosition:String,disableRipple:{type:Boolean,default:u.a.data.disableRipple},disabled:{type:Boolean,default:!1}},computed:{classes:function(){return["ui-icon-button--type-"+this.type,"ui-icon-button--color-"+this.color,"ui-icon-button--size-"+this.size,{"is-loading":this.loading},{"is-disabled":this.disabled||this.loading},{"has-dropdown":this.hasDropdown}]},progressColor:function(){return"primary"===this.type?"default"===this.color||"black"===this.color?"black":"white":"white"===this.color?"white":"black"}},methods:{onClick:function(t){this.$emit("click",t)},onDropdownOpen:function(){this.$emit("dropdown-open")},onDropdownClose:function(){this.$emit("dropdown-close")},openDropdown:function(){this.$refs.dropdown&&this.$refs.dropdown.open()},closeDropdown:function(){this.$refs.dropdown&&this.$refs.dropdown.close()},toggleDropdown:function(){this.$refs.dropdown&&this.$refs.dropdown.toggle()}},components:{UiIcon:i.a,UiPopover:r.a,UiProgressCircular:s.a,UiRippleInk:o.a,UiTooltip:a.a}}},function(t,e){},function(t,e,n){"use strict";e.a={name:"ui-icon",props:{icon:String,iconSet:{type:String,default:"material-icons"},ariaLabel:String,removeText:{type:Boolean,default:!1},useSvg:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1}}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"ui-icon",class:[t.iconSet,t.icon,{"is-mirrored":t.mirror}],attrs:{"aria-label":t.ariaLabel}},[t.useSvg?n("svg",{staticClass:"ui-icon__svg"},[n("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#"+t.icon}})]):t._t("default",[t._v(t._s(t.removeText?null:t.icon))])],2)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(57)}var r=n(58),s=n(60),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(16),r=n(59),s=n.n(r);e.a={name:"ui-popover",props:{trigger:{type:String,required:!0},dropdownPosition:{type:String,default:"bottom left"},openOn:{type:String,default:"click"},containFocus:{type:Boolean,default:!1},focusRedirector:Function,raised:{type:Boolean,default:!0}},data:function(){return{dropInstance:null,lastfocusedElement:null}},computed:{triggerEl:function(){return this.$parent.$refs[this.trigger]}},mounted:function(){this.triggerEl&&this.initializeDropdown()},beforeDestroy:function(){this.dropInstance&&this.dropInstance.destroy()},methods:{initializeDropdown:function(){this.dropInstance=new s.a({target:this.triggerEl,content:this.$el,position:this.dropdownPosition,constrainToWindow:!0,openOn:this.openOn}),"bottom left"!==this.dropdownPosition&&(this.dropInstance.open(),this.dropInstance.close(),this.dropInstance.open(),this.dropInstance.close()),this.dropInstance.on("open",this.onOpen),this.dropInstance.on("close",this.onClose)},openDropdown:function(){this.dropInstance&&this.dropInstance.open()},closeDropdown:function(){this.dropInstance&&this.dropInstance.close()},toggleDropdown:function(t){this.dropInstance&&this.dropInstance.toggle(t)},positionDrop:function(){var t=this.dropInstance,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=t.drop.getBoundingClientRect().width,i=t.target.getBoundingClientRect().left,r=e-i;if(n>r){var s=n>r?"right":"left";t.tether.attachment.left=s,t.tether.targetAttachment.left=s,t.position()}},onOpen:function(){this.positionDrop(),i.a.add(this.triggerEl,"has-dropdown-open"),this.lastfocusedElement=document.activeElement,this.$el.focus(),this.$emit("open")},onClose:function(){i.a.remove(this.triggerEl,"has-dropdown-open"),this.lastfocusedElement&&this.lastfocusedElement.focus(),this.$emit("close")},restrictFocus:function(t){if(!this.containFocus)return void this.closeDropdown();t.stopPropagation(),this.focusRedirector?this.focusRedirector(t):this.$el.focus()},open:function(){this.openDropdown()},close:function(){this.closeDropdown()},toggle:function(){this.toggleDropdown()}}}},function(t,e){t.exports=kolibriGlobal.lib.tetherDrop},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui-popover",class:{"is-raised":t.raised},attrs:{role:"dialog",tabindex:"-1"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27))return null;t.closeDropdown(e)}}},[t._t("default"),n("div",{staticClass:"ui-popover__focus-redirector",attrs:{tabindex:"0"},on:{focus:t.restrictFocus}})],2)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(62)}var r=n(63),s=n(64),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";e.a={name:"ui-progress-circular",props:{type:{type:String,default:"indeterminate"},color:{type:String,default:"primary"},progress:{type:Number,default:0},size:{type:Number,default:32},stroke:Number,autoStroke:{type:Boolean,default:!0},disableTransition:{type:Boolean,default:!1}},computed:{classes:function(){return["ui-progress-circular--color-"+this.color,"ui-progress-circular--type-"+this.type]},strokeDashArray:function(){var t=2*Math.PI*this.radius;return Math.round(1e3*t)/1e3},strokeDashOffset:function(){return(100-this.moderateProgress(this.progress))/100*(2*Math.PI*this.radius)},radius:function(){var t=this.stroke?this.stroke:4;return(this.size-t)/2},calculatedStroke:function(){return this.stroke?this.stroke:this.autoStroke?parseInt(this.size/8,10):4}},methods:{moderateProgress:function(t){return isNaN(t)||t<0?0:t>100?100:t}}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.disableTransition?null:"ui-progress-circular--transition-fade"}},[n("div",{staticClass:"ui-progress-circular",class:t.classes,style:{width:t.size+"px",height:t.size+"px"}},["determinate"===t.type?n("svg",{staticClass:"ui-progress-circular__determinate",attrs:{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":t.progress,height:t.size,width:t.size}},[n("circle",{staticClass:"ui-progress-circular__determinate-path",style:{"stroke-dashoffset":t.strokeDashOffset,"stroke-width":t.calculatedStroke},attrs:{fill:"transparent","stroke-dashoffset":"0",cx:t.size/2,cy:t.size/2,r:t.radius,"stroke-dasharray":t.strokeDashArray}})]):n("svg",{staticClass:"ui-progress-circular__indeterminate",attrs:{role:"progressbar",viewBox:"25 25 50 50","aria-valuemax":100,"aria-valuemin":0}},[n("circle",{staticClass:"ui-progress-circular__indeterminate-path",attrs:{cx:"50",cy:"50",fill:"none",r:"20","stroke-miterlimit":"10","stroke-width":t.calculatedStroke}})])])])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(66)}var r=n(67),s=n(68),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(16),r=function(t,e){var n=e.currentTarget||e.target;if(n&&!i.a.has(n,"ui-ripple-ink")&&(n=n.querySelector(".ui-ripple-ink")),n){var r=n.getAttribute("data-ui-event");if(!r||r===t){n.setAttribute("data-ui-event",t);var s,o=n.getBoundingClientRect(),a=e.offsetX;void 0===a?(a=e.clientX-o.left,s=e.clientY-o.top):s=e.offsetY;var u,c=document.createElement("div");u=o.width===o.height?1.412*o.width:Math.sqrt(o.width*o.width+o.height*o.height);var l=2*u+"px";c.style.width=l,c.style.height=l,c.style.marginLeft=-u+a+"px",c.style.marginTop=-u+s+"px",c.className="ui-ripple-ink__ink",n.appendChild(c),setTimeout(function(){i.a.add(c,"is-held")},0);var d="mousedown"===t?"mouseup":"touchend",p=function(){document.removeEventListener(d,p),i.a.add(c,"is-done"),setTimeout(function(){n.removeChild(c),0===n.children.length&&n.removeAttribute("data-ui-event")},650)};document.addEventListener(d,p)}}},s=function(t){0===t.button&&r(t.type,t)},o=function(t){if(t.changedTouches)for(var e=0;e<t.changedTouches.length;++e)r(t.type,t.changedTouches[e])};e.a={name:"ui-ripple-ink",props:{trigger:{type:String,required:!0}},watch:{trigger:function(){this.initialize()}},mounted:function(){var t=this;this.$nextTick(function(){t.initialize()})},beforeDestroy:function(){var t=this.trigger?this.$parent.$refs[this.trigger]:null;t&&(t.removeEventListener("mousedown",s),t.removeEventListener("touchstart",o))},methods:{initialize:function(){var t=this.trigger?this.$parent.$refs[this.trigger]:null;t&&(t.addEventListener("touchstart",o),t.addEventListener("mousedown",s))}}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"ui-ripple-ink"})},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(70)}var r=n(71),s=n(74),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(72),r=n.n(i),s=n(73);e.a={name:"ui-tooltip",props:{trigger:{type:String,required:!0},position:{type:String,default:"bottom center"},openOn:{type:String,default:"hover focus"},openDelay:{type:Number,default:0}},data:function(){return{tooltip:null,id:s.a.short("ui-tooltip-")}},watch:{trigger:function(){null===this.tooltip&&this.initialize()}},mounted:function(){null===this.tooltip&&this.initialize()},beforeDestroy:function(){null!==this.tooltip&&this.tooltip.destroy()},methods:{initialize:function(){if(void 0!==this.trigger&&this.$parent.$refs[this.trigger]){var t=this.$parent.$refs[this.trigger]._isVue?this.$parent.$refs[this.trigger].$el:this.$parent.$refs[this.trigger];this.tooltip=new r.a({target:t,content:this.$refs.tooltip,classes:"ui-tooltip--theme-default",position:this.position,openOn:this.openOn,openDelay:this.openDelay}),t.setAttribute("aria-describedby",this.id)}}}}},function(t,e){t.exports=kolibriGlobal.lib.tetherTooltip},function(t,e,n){"use strict";for(var i=[],r=0;r<256;r++)i[r]=(r<16?"0":"")+r.toString(16);var s=function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return i[255&t]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+"-"+i[255&e]+i[e>>8&255]+"-"+i[e>>16&15|64]+i[e>>24&255]+"-"+i[63&n|128]+i[n>>8&255]+"-"+i[n>>16&255]+i[n>>24&255]+i[255&r]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]},o=function(t){return(t=t||"")+s().split("-")[0]};e.a={generate:s,short:o}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"tooltip",staticClass:"ui-tooltip",attrs:{role:"tooltip",id:t.id}},[t._t("default")],2)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var i=n(76),r=n.n(i),s={disableRipple:!1,UiAutocomplete:{keys:{label:"label",value:"value",image:"image"}},UiCheckboxGroup:{keys:{id:"id",name:"name",class:"class",label:"label",value:"value",disabled:"disabled"}},UiMenu:{keys:{icon:"icon",type:"type",label:"label",secondaryText:"secondaryText",iconProps:"iconProps",disabled:"disabled"}},UiRadioGroup:{keys:{id:"id",class:"class",label:"label",value:"value",checked:"checked",disabled:"disabled"}},UiSelect:{keys:{label:"label",value:"value",image:"image"}}},o=function(){this.data=r()(s,window.KeenUiConfig?window.KeenUiConfig:{})};o.prototype.set=function(t){void 0===t&&(t={}),this.data=r()(this.data,t)},e.a=new o},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}function r(t,e,n){var i=e[n];if(void 0!==i&&null!==i){if(a.call(t,n)&&(void 0===t[n]||null===t[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");a.call(t,n)&&o(i)?t[n]=s(Object(t[n]),e[n]):t[n]=i}}function s(t,e){if(t===e)return t;e=Object(e);for(var n in e)a.call(e,n)&&r(t,e,n);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),s=0;s<i.length;s++)u.call(e,i[s])&&r(t,e,i[s]);return t}var o=n(77),a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(t){t=i(t);for(var e=1;e<arguments.length;e++)s(t,arguments[e]);return t}},function(t,e,n){"use strict";t.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{ref:"button",staticClass:"ui-icon-button",class:t.classes,attrs:{"aria-label":t.ariaLabel||t.tooltip,disabled:t.disabled||t.loading,type:t.buttonType},on:{click:t.onClick}},[t.icon||t.$slots.default?n("div",{staticClass:"ui-icon-button__icon"},[t._t("default",[n("ui-icon",{attrs:{icon:t.icon}})])],2):t._e(),n("div",{staticClass:"ui-icon-button__focus-ring"}),n("ui-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"ui-icon-button__progress",attrs:{color:t.progressColor,size:"large"===t.size?24:18,stroke:4.5}}),t.disableRipple||t.disabled?t._e():n("ui-ripple-ink",{attrs:{trigger:"button"}}),t.hasDropdown?n("ui-popover",{ref:"dropdown",attrs:{trigger:"button","dropdown-position":t.dropdownPosition,"open-on":t.openDropdownOn},on:{close:t.onDropdownClose,open:t.onDropdownOpen}},[t._t("dropdown")],2):t._e(),t.tooltip?n("ui-tooltip",{attrs:{trigger:"button","open-on":t.openTooltipOn,position:t.tooltipPosition}},[t._v(t._s(t.tooltip))]):t._e()],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(80)}var r=n(81),s=n(82),o=n(0),a=i,u=o(r.a,s.a,a,null,null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";e.a={name:"ui-progress-linear",props:{type:{type:String,default:"indeterminate"},color:{type:String,default:"primary"},progress:{type:Number,default:0}},computed:{classes:function(){return["ui-progress-linear--color-"+this.color,"ui-progress-linear--type-"+this.type]},moderatedProgress:function(){return this.progress<0?0:this.progress>100?100:this.progress}}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"ui-progress-linear--transition-fade"}},[n("div",{staticClass:"ui-progress-linear",class:t.classes},["determinate"===t.type?n("div",{staticClass:"ui-progress-linear__progress-bar is-determinate",style:{transform:"scaleX("+t.moderatedProgress/100+")"},attrs:{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":t.moderatedProgress}}):n("div",{staticClass:"ui-progress-linear__progress-bar is-indeterminate",attrs:{role:"progressbar","aria-valuemax":100,"aria-valuemin":0}})])])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui-toolbar",class:t.classes},[n("div",{staticClass:"ui-toolbar__left"},[t.removeNavIcon?t._e():n("div",{staticClass:"ui-toolbar__nav-icon"},[t._t("icon",[n("ui-icon-button",{attrs:{size:"large",type:"secondary",color:t.textColor,icon:t.navIcon},on:{click:t.navIconClick}})])],2),t.brand||t.$slots.brand?n("div",{staticClass:"ui-toolbar__brand"},[t._t("brand",[n("div",{staticClass:"ui-toolbar__brand-text"},[t._v(t._s(t.brand))])])],2):t._e()]),n("div",{staticClass:"ui-toolbar__body",class:{"has-brand-divider":t.hasBrandDivider}},[t._t("default",[t.title?n("div",{staticClass:"ui-toolbar__title"},[t._v(t._s(t.title))]):t._e()])],2),n("div",{staticClass:"ui-toolbar__right"},[t._t("actions")],2),n("ui-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"ui-toolbar__progress",attrs:{color:t.progressColor}})],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e){t.exports=kolibriGlobal.coreVue.components.kSelect},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"signup-page"}},[n("ui-toolbar",{attrs:{type:"colored",textColor:"white"}},[n("template",{attrs:{slot:"icon"},slot:"icon"},[n("ui-icon",{staticClass:"app-bar-icon"},[n("logo")],1)],1),n("template",{attrs:{slot:"brand"},slot:"brand"},[t._v("\n      "+t._s(t.$tr("kolibri"))+"\n    ")]),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("router-link",{attrs:{id:"signin",to:t.signInPage}},[n("span",[t._v(t._s(t.$tr("logIn")))])])],1)],2),n("form",{ref:"form",staticClass:"signup-form",on:{submit:function(e){e.preventDefault(),t.signUp(e)}}},[t.unknownError?n("ui-alert",{attrs:{type:"error"},on:{dismiss:t.resetSignUpState}},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e(),n("h1",{staticClass:"signup-title"},[t._v(t._s(t.$tr("createAccount")))]),n("k-textbox",{ref:"name",attrs:{id:"name",type:"text",autocomplete:"name",label:t.$tr("name"),maxlength:120,autofocus:!0,invalid:t.nameIsInvalid,invalidText:t.nameIsInvalidText},on:{blur:function(e){t.nameBlurred=!0}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("k-textbox",{ref:"username",attrs:{id:"username",type:"text",autocomplete:"username",label:t.$tr("username"),maxlength:30,invalid:t.usernameIsInvalid,invalidText:t.usernameIsInvalidText},on:{blur:function(e){t.usernameBlurred=!0},input:t.resetSignUpState},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("k-textbox",{ref:"password",attrs:{id:"password",type:"password",autocomplete:"new-password",label:t.$tr("password"),invalid:t.passwordIsInvalid,invalidText:t.passwordIsInvalidText},on:{blur:function(e){t.passwordBlurred=!0}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("k-textbox",{ref:"confirmedPassword",attrs:{id:"confirmed-password",type:"password",autocomplete:"new-password",label:t.$tr("reEnterPassword"),invalid:t.confirmedPasswordIsInvalid,invalidText:t.confirmedPasswordIsInvalidText},on:{blur:function(e){t.confirmedPasswordBlurred=!0}},model:{value:t.confirmedPassword,callback:function(e){t.confirmedPassword=e},expression:"confirmedPassword"}}),n("k-select",{attrs:{label:t.$tr("facility"),options:t.facilityList,invalid:t.facilityIsInvalid,invalidText:t.facilityIsInvalidText},on:{blur:function(e){t.facilityBlurred=!0}},model:{value:t.selectedFacility,callback:function(e){t.selectedFacility=e},expression:"selectedFacility"}}),n("k-button",{attrs:{disabled:t.busy,primary:!0,text:t.$tr("finish"),type:"submit"}})],1),n("div",{staticClass:"footer"},[n("language-switcher-footer")],1)],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function i(t){n(87)}var r=n(88),s=n(92),o=n(0),a=i,u=o(r.a,s.a,a,"data-v-9e6714d6",null);e.a=u.exports},function(t,e){},function(t,e,n){"use strict";var i=n(8),r=n(4),s=(n.n(r),n(89)),o=n.n(s),a=n(14),u=(n.n(a),n(1)),c=(n.n(u),n(5)),l=n.n(c),d=n(6),p=n.n(d),f=n(90),h=n.n(f),m=n(91),g=n.n(m),v=n(7),b=n.n(v),_=n(3);n.n(_);e.a={name:"profilePage",$trs:{genericError:"Something went wrong",success:"Profile details updated!",username:"Username",name:"Full name",updateProfile:"Save changes",isLearner:"Learner",isCoach:"Coach",isAdmin:"Admin",isSuperuser:"Superuser permissions ",manageContent:"Manage content",points:"Points",role:"Role",devicePermissions:"Device permissions",usernameNotAlphaNumUnderscore:"Username can only contain letters, numbers, and underscores",required:"This field is required",limitedPermissions:"Limited permissions",youCan:"You can"},components:{kButton:l.a,kTextbox:p.a,uiAlert:b.a,pointsIcon:h.a,permissionsIcon:g.a},mixins:[o.a],data:function(){return{username:this.session.username,name:this.session.full_name,usernameBlurred:!1,nameBlurred:!1,formSubmitted:!1}},computed:{role:function(){return this.getUserRole===_.UserKinds.ADMIN?this.$tr("isAdmin"):this.getUserRole===_.UserKinds.COACH?this.$tr("isCoach"):this.getUserRole===_.UserKinds.LEARNER?this.$tr("isLearner"):""},permissionType:function(){return this.isSuperuser?_.PermissionTypes.SUPERUSER:this.userHasPermissions?_.PermissionTypes.LIMITED_PERMISSIONS:null},permissionTypeText:function(){return this.permissionType===_.PermissionTypes.SUPERUSER?this.$tr("isSuperuser"):this.permissionType===_.PermissionTypes.LIMITED_PERMISSIONS?this.$tr("limitedPermissions"):""},canEditUsername:function(){return!this.isCoach&&!this.isLearner||this.facilityConfig.learnerCanEditUsername},canEditName:function(){return!this.isCoach&&!this.isLearner||this.facilityConfig.learnerCanEditName},nameIsInvalidText:function(){return(this.nameBlurred||this.formSubmitted)&&""===this.name?this.$tr("required"):""},nameIsInvalid:function(){return!!this.nameIsInvalidText},usernameIsInvalidText:function(){if(this.usernameBlurred||this.formSubmitted){if(""===this.username)return this.$tr("required");if(!Object(a.validateUsername)(this.username))return this.$tr("usernameNotAlphaNumUnderscore")}return""},usernameIsInvalid:function(){return!!this.usernameIsInvalidText},formIsValid:function(){return!this.usernameIsInvalid}},created:function(){this.fetchPoints()},methods:{submitEdits:function(){if(this.formSubmitted=!0,this.resetProfileState(),this.formIsValid){var t={username:this.username,full_name:this.name};this.editProfile(t,this.session)}else this.nameIsInvalid?this.$refs.name.focus():this.usernameIsInvalid&&this.$refs.username.focus()},getPermissionString:function(t){return"can_manage_content"===t?this.$tr("manageContent"):t}},vuex:{getters:{facilityConfig:r.facilityConfig,isSuperuser:r.isSuperuser,isAdmin:r.isAdmin,isCoach:r.isCoach,isLearner:r.isLearner,totalPoints:r.totalPoints,session:function(t){return t.core.session},busy:function(t){return t.pageState.busy},error:function(t){return t.pageState.error},errorMessage:function(t){return t.pageState.errorMessage},success:function(t){return t.pageState.success},getUserRole:r.getUserRole,getUserPermissions:r.getUserPermissions,userHasPermissions:r.userHasPermissions},actions:{editProfile:i.a,resetProfileState:i.b,fetchPoints:u.fetchPoints}}}},function(t,e){t.exports=kolibriGlobal.coreVue.mixins.responsiveWindow},function(t,e){t.exports=kolibriGlobal.coreVue.components.pointsIcon},function(t,e){t.exports=kolibriGlobal.coreVue.components.permissionsIcon},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("section",[n("h2",[t._v(t._s(t.$tr("points")))]),n("points-icon",{staticClass:"points-icon",attrs:{active:!0}}),n("span",{staticClass:"points-num"},[t._v(t._s(t.$formatNumber(t.totalPoints)))])],1),n("section",[n("h2",[t._v(t._s(t.$tr("role")))]),t._v("\n    "+t._s(t.role)+"\n  ")]),t.userHasPermissions?n("section",[n("h2",[t._v(t._s(t.$tr("devicePermissions")))]),n("p",[n("permissions-icon",{staticClass:"permissions-icon",attrs:{permissionType:t.permissionType}}),t._v("\n      "+t._s(t.permissionTypeText)+"\n    ")],1),n("p",[t._v("\n      "+t._s(t.$tr("youCan"))+"\n      "),n("ul",{staticClass:"permissions-list"},t._l(t.getUserPermissions,function(e,i){return e?n("li",{key:i},[t._v("\n          "+t._s(t.getPermissionString(i))+"\n        ")]):t._e()}))])]):t._e(),n("form",{on:{submit:function(e){e.preventDefault(),t.submitEdits(e)}}},[t.success?n("ui-alert",{attrs:{type:"success",dismissible:!1}},[t._v("\n      "+t._s(t.$tr("success"))+"\n    ")]):t._e(),t.error?n("ui-alert",{attrs:{type:"error",dismissible:!1}},[t._v("\n      "+t._s(t.errorMessage||t.$tr("genericError"))+"\n    ")]):t._e(),t.canEditName?n("k-textbox",{ref:"name",attrs:{type:"text",autocomplete:"name",autofocus:!1,label:t.$tr("name"),disabled:t.busy,maxlength:120,invalid:t.nameIsInvalid,invalidText:t.nameIsInvalidText},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):[n("h2",[t._v(t._s(t.$tr("name")))]),n("p",[t._v(t._s(t.name))])],t.canEditUsername?n("k-textbox",{ref:"username",attrs:{type:"text",autocomplete:"username",label:t.$tr("username"),disabled:t.busy,maxlength:30,invalid:t.usernameIsInvalid,invalidText:t.usernameIsInvalidText},on:{blur:function(e){t.usernameBlurred=!0}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}):[n("h2",[t._v(t._s(t.$tr("username")))]),n("p",[t._v(t._s(t.session.username))])],t.canEditUsername||t.canEditName?n("k-button",{staticClass:"submit",attrs:{type:"submit",text:t.$tr("updateProfile"),primary:!0,disabled:t.busy}}):t._e()],2)])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("core-base",{attrs:{navBarNeeded:t.navBarNeeded,topLevelPageName:t.topLevelPageName,appBarTitle:t.appBarTitle}},[t.navBarNeeded?n(t.currentPage,{tag:"component"}):t._e()],1),t.navBarNeeded?t._e():n("div",{staticClass:"full-page"},[n(t.currentPage,{tag:"component"})],1)],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i={pageName:void 0,pageState:{},facility:void 0},r={SET_PAGE_NAME:function(t,e){t.pageName=e},SET_PAGE_STATE:function(t,e){t.pageState=e},SET_PROFILE_BUSY:function(t,e){t.pageState.busy=e},SET_PROFILE_SUCCESS:function(t,e){t.pageState.success=e},SET_PROFILE_ERROR:function(t,e,n){t.pageState.error=e,t.pageState.errorMessage=n},SET_SIGN_UP_BUSY:function(t,e){t.pageState.busy=e},SET_SIGN_UP_ERROR:function(t,e,n){t.pageState.errorCode=e,t.pageState.errorMessage=n}}}]);